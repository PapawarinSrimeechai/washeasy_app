{"version":3,"sources":["../../src/pages/email-verification/email-verification.module.ts","../../src/pages/email-verification/email-verification.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { EmailVerificationPage } from './email-verification';\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    EmailVerificationPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(EmailVerificationPage),\r\n    HttpClientModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    IonicStorageModule.forRoot()\r\n  ],\r\n})\r\nexport class EmailVerificationPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/email-verification/email-verification.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, MenuController, App } from 'ionic-angular';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport { AngularFireAuth } from \"angularfire2/auth\";\r\nimport { AngularFireDatabase, FirebaseObjectObservable} from \"angularfire2/database\";\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Storage } from '@ionic/storage';\r\n/**\r\n * Generated class for the EmailVerificationPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-email-verification',\r\n  templateUrl: 'email-verification.html',\r\n})\r\nexport class EmailVerificationPage {\r\n\r\n  constructor(private afAuth: AngularFireAuth, private afDatabase: AngularFireDatabase,\r\n    private menu: MenuController, private app: App, private nativeStorage: NativeStorage,\r\n    public navCtrl: NavController, public navParams: NavParams\r\n    ,private translate: TranslateService,private storage: Storage) {\r\n      this.storage.get('lang').then((data)=>{\r\n        this.translate.setDefaultLang(data);\r\n      });\r\n    }\r\n\r\n\r\n  ngAfterViewInit(){\r\n    this.menu.swipeEnable(false);\r\n    this.app._setDisableScroll(true);\r\n  }\r\n\r\n  private email: string;\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad HomePage');\r\n    this.nativeStorage.getItem('user')\r\n        .then(\r\n          user => {\r\n            this.email = user.email;\r\n            this.translate.setTranslation('en', {\r\n              Text: 'The email verification link has been sent to '+this.email+', please confirm your email before login.',\r\n           });\r\n          this.translate.setTranslation('th', {\r\n            Text: 'ระบบได้ส่งลิงก์ยืนยันอีเมลไปที่ '+this.email+' เรียบร้อยแล้ว กรุณายืนยันอีเมลที่ก่อนเข้าสู่ระบบ',\r\n          });\r\n          },\r\n          error => console.error(error)\r\n        );\r\n\r\n    // this.afAuth.authState.take(1).subscribe(data => {\r\n    //   if(data && data.email && data.uid) {\r\n    //       this.email = data.email;\r\n    //   } \r\n    // });\r\n  }\r\n\r\n  okay() {\r\n    this.navCtrl.setRoot('LoginPage');\r\n    //this.afAuth.auth.signOut().then(() => this.navCtrl.setRoot('LoginPage'));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/email-verification/email-verification.ts"],"sourceRoot":""}